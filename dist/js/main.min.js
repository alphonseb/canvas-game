"use strict";var _createClass=function(){function n(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,i,e){return i&&n(t.prototype,i),e&&n(t,e),t}}();function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var Canvas=function(){function i(t){_classCallCheck(this,i),this.$container=document.querySelector(t.container),this.getCursor(),this.getKeyboard(),this.initCanvas(),this.color=360,this.frameCount=0,this.characterPosition={x:10,y:300}}return _createClass(i,[{key:"getCursor",value:function(){var i=this;this.cursor={},window.addEventListener("mousemove",function(t){i.cursor.x=t.clientX,i.cursor.y=t.clientY}),window.addEventListener("mousedown",function(){i.cursor.isDown=!0}),window.addEventListener("mouseup",function(){i.cursor.isDown=!1})}},{key:"getKeyboard",value:function(){var i=this;window.addEventListener("keydown",function(t){i.pressedKey=t.keyCode}),window.addEventListener("keyup",function(t){i.pressedKey=null})}},{key:"initCanvas",value:function(){this.createCanvas(),this.sizeCanvas(),this.loop()}},{key:"createCanvas",value:function(){this.$canvas=document.createElement("canvas"),this.context=this.$canvas.getContext("2d"),this.$container.appendChild(this.$canvas)}},{key:"sizeCanvas",value:function(){var t=this;this.$canvas.width=this.$container.offsetWidth,this.$canvas.height=this.$container.offsetHeight,window.addEventListener("resize",function(){t.$canvas.width=t.$container.offsetWidth,t.$canvas.height=t.$container.offsetHeight})}},{key:"loop",value:function(){window.requestAnimationFrame(this.loop.bind(this)),this.frameCount++,10===this.frameCount&&(0<this.color?this.color--:this.color=360,this.frameCount=0),this.context.fillStyle="hsl("+this.color+",100%,30%)",this.context.fillRect(0,0,this.$canvas.width,this.$canvas.height),this.context.fillStyle="black",this.context.fillRect(0,this.$canvas.height/4-5,this.$canvas.width,10),this.context.fillRect(0,2*this.$canvas.height/4-5,this.$canvas.width,10),this.context.fillRect(0,3*this.$canvas.height/4-5,this.$canvas.width,10);var t=new Character(this.context,this.$canvas,this.pressedKey,this.characterPosition,this.characterIsJumping,this.characterJumpSpeed);this.characterPosition=t.position,this.characterIsJumping=t.isJumping,this.characterJumpSpeed=t.jumpSpeed}}]),i}();_createClass=function(){function n(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(t,i,e){return i&&n(t.prototype,i),e&&n(t,e),t}}();function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var Character=function(){function o(t,i,e){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{x:0,y:150},s=4<arguments.length&&void 0!==arguments[4]&&arguments[4],a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:6;_classCallCheck(this,o),this.context=t,this.pressedKey=e,this.size={width:20,height:150},this.position={x:n.x,y:n.y},this.isJumping=s,this.jumpSpeed=a,this.init()}return _createClass(o,[{key:"init",value:function(){this.draw(),this.move()}},{key:"draw",value:function(){this.context.fillStyle="blue",this.context.fillRect(this.position.x,this.position.y,this.size.width,this.size.height)}},{key:"move",value:function(){68===this.pressedKey&&(this.position.x+=5),81===this.pressedKey&&(this.position.x-=5),90===this.pressedKey&&(this.isJumping=!0),this.isJumping&&(5<this.position.y?this.position.y-=this.jumpSpeed-=.1:this.isJumping=!1)}}]),o}(),canvas=new Canvas({container:".canvas-container"});